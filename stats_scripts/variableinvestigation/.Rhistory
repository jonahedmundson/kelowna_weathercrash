return(e[[ls(e)[1]]])
}
#cleaned and combined
alldata = load_first_object("../../rda_files/all_data.rda")
#reading as.factor
factors = c("Fog", "Freezing.Rain", "Snow", "Rain", "Thunderstorms")
for (i in factors){
alldata[,i] = as.factor(alldata[,i])
}
#weatherdata
weatherdata = c()
for (i in c(2017:2021)){
for (j in c(1:12)){
temp = subset(read.csv(paste0('../../weatherdata/en_climate_hourly_BC_1123939_',
sprintf("%02d", j), '-', i, '_P1H.csv')),
select = - c(`Temp.Flag`,
`Dew.Point.Temp.Flag`, `Rel.Hum.Flag`,
`Precip..Amount.Flag`, `Wind.Dir.Flag`,
`Wind.Spd.Flag`, `Visibility.Flag`,
`Stn.Press.Flag`, `Hmdx`, `Hmdx.Flag`, `Wind.Chill.Flag`))
weatherdata = rbind(weatherdata, temp)
}
}
summary(alldata)
numeric = unlist(lapply(alldata, is.numeric), use.names = FALSE)
pairs(alldata[,numeric])
names(alldata)
library(ggplot2)
library(ggthemes)
theme_set(theme_few())
library(tidyverse)
load_first_object <- function(fname){
#this function was written by Dr. Rhonda Rosychuk at the U of A
e <- new.env(parent = parent.frame())
load(fname, e)
return(e[[ls(e)[1]]])
}
#cleaned and combined
alldata = load_first_object("../../rda_files/all_data.rda")
#reading as.factor
factors = c("Fog", "Freezing.Rain", "Snow", "Rain", "Thunderstorms")
for (i in factors){
alldata[,i] = as.factor(alldata[,i])
}
#weatherdata
weatherdata = c()
for (i in c(2017:2021)){
for (j in c(1:12)){
temp = subset(read.csv(paste0('../../weatherdata/en_climate_hourly_BC_1123939_',
sprintf("%02d", j), '-', i, '_P1H.csv')),
select = - c(`Temp.Flag`,
`Dew.Point.Temp.Flag`, `Rel.Hum.Flag`,
`Precip..Amount.Flag`, `Wind.Dir.Flag`,
`Wind.Spd.Flag`, `Visibility.Flag`,
`Stn.Press.Flag`, `Hmdx`, `Hmdx.Flag`, `Wind.Chill.Flag`))
weatherdata = rbind(weatherdata, temp)
}
}
numeric = unlist(lapply(alldata, is.numeric), use.names = FALSE)
names(alldata)
summary(alldata$Crash.Severity)
summary(alldata$Total.Crashes)
for (i in 1:length(names(alldata[,numeric]-1))){
plot(alldata[,names(alldata[,numeric])[i]]~alldata[,names(alldata[,numeric])[i+1]])
readLines(n=1)
print(paste('y:', names(alldata[,numeric])[i]))
print(paste('x:', names(alldata[,numeric])[i+1]))
}
for (i in 1:length(names(alldata[,numeric]-1))){
plot(alldata[,names(alldata[,numeric])[i]]~alldata[,names(alldata[,numeric])[i+1]])
print(paste('y:', names(alldata[,numeric])[i]))
print(paste('x:', names(alldata[,numeric])[i+1]))
readLines(n=1)
}
names(alldata)
names(alldata[,numeric])
head(alldata$Metric.Selector)
summary(alldata$Metric.Selector)
names9alldata
names(alldata)
gc()
library(ggplot2)
library(ggthemes)
theme_set(theme_few())
library(tidyverse)
load_first_object <- function(fname){
#this function was written by Dr. Rhonda Rosychuk at the U of A
e <- new.env(parent = parent.frame())
load(fname, e)
return(e[[ls(e)[1]]])
}
#cleaned and combined
alldata = load_first_object("../../rda_files/all_data.rda")
#reading as.factor
factors = c("Fog", "Freezing.Rain", "Snow", "Rain", "Thunderstorms")
for (i in factors){
alldata[,i] = as.factor(alldata[,i])
}
#weatherdata
weatherdata = c()
for (i in c(2017:2021)){
for (j in c(1:12)){
temp = subset(read.csv(paste0('../../weatherdata/en_climate_hourly_BC_1123939_',
sprintf("%02d", j), '-', i, '_P1H.csv')),
select = - c(`Temp.Flag`,
`Dew.Point.Temp.Flag`, `Rel.Hum.Flag`,
`Precip..Amount.Flag`, `Wind.Dir.Flag`,
`Wind.Spd.Flag`, `Visibility.Flag`,
`Stn.Press.Flag`, `Hmdx`, `Hmdx.Flag`, `Wind.Chill.Flag`))
weatherdata = rbind(weatherdata, temp)
}
}
numeric = unlist(lapply(alldata, is.numeric), use.names = FALSE)
names(alldata[,numeric])
alldata[1,]
alldata[2,]
alldata[1:2,]
names(alldata[,numeric])
summary(alldata$Total.Victims)
numeric[1] = FALSE
names(alldata[,numeric])
nuermic
numeric
numeric[2] = FALSE
names(alldata[,numeric])
pairs(alldata[,numeric])
summary(alldata[,c('Temp...C.', 'Dew.Point.Temp...C.', 'Wind.Chill')])
pairs(alldata[,c('Temp...C.', 'Dew.Point.Temp...C.', 'Wind.Chill')])
corr(alldata[,c('Temp...C.', 'Dew.Point.Temp...C.', 'Wind.Chill')])
cor(alldata[,c('Temp...C.', 'Dew.Point.Temp...C.', 'Wind.Chill')])
cor(alldata[,c('Temp...C.', 'Dew.Point.Temp...C.', 'Wind.Chill')], na.rm = TRUE)
rcorr(alldata[,c('Temp...C.', 'Dew.Point.Temp...C.', 'Wind.Chill')], na.rm = TRUE)
cor(alldata[,c('Temp...C.', 'Dew.Point.Temp...C.', 'Wind.Chill')], use = 'complete.obs\')
cor(alldata[,c('Temp...C.', 'Dew.Point.Temp...C.', 'Wind.Chill')], use = 'complete.obs')
names(alldata)
alldata = alldata[,-c(23, 30)]
names(alldata)
numeric = unlist(lapply(alldata, is.numeric), use.names = FALSE)
numeric[2] = FALSE
names(alldata[,numeric])
pairs(alldata[,numeric])
?corrplot
??corrplot
names(alldata)
library(ggplot2)
library(ggthemes)
theme_set(theme_few())
library(tidyverse)
load_first_object <- function(fname){
#this function was written by Dr. Rhonda Rosychuk at the U of A
e <- new.env(parent = parent.frame())
load(fname, e)
return(e[[ls(e)[1]]])
}
#cleaned and combined
alldata = load_first_object("../../rda_files/all_data.rda")
names(alldata)
head(alldata$Date.Of.Loss.Year)
#cleaned and combined
alldata = load_first_object("../../rda_files/all_data.rda")
names(alldata)
dput(names(alldata))
names(alldata)
library(ggplot2)
library(ggthemes)
theme_set(theme_few())
library(tidyverse)
load_first_object <- function(fname){
#this function was written by Dr. Rhonda Rosychuk at the U of A
e <- new.env(parent = parent.frame())
load(fname, e)
return(e[[ls(e)[1]]])
}
#cleaned and combined
alldata = load_first_object("../../rda_files/all_data.rda")
#reading as.factor
factors = c("Fog", "Freezing.Rain", "Snow", "Rain", "Thunderstorms")
for (i in factors){
alldata[,i] = as.factor(alldata[,i])
}
#weatherdata
weatherdata = c()
for (i in c(2017:2021)){
for (j in c(1:12)){
temp = subset(read.csv(paste0('../../weatherdata/en_climate_hourly_BC_1123939_',
sprintf("%02d", j), '-', i, '_P1H.csv')),
select = - c(`Temp.Flag`,
`Dew.Point.Temp.Flag`, `Rel.Hum.Flag`,
`Precip..Amount.Flag`, `Wind.Dir.Flag`,
`Wind.Spd.Flag`, `Visibility.Flag`,
`Stn.Press.Flag`, `Hmdx`, `Hmdx.Flag`, `Wind.Chill.Flag`))
weatherdata = rbind(weatherdata, temp)
}
}
class(alldata$Rel.Hum....)
class(weatherdata$Rel.Hum....)
summary(weatherdata$Rel.Hum....)
summary(alldata$Rel.Hum....)
summary(as.numeric(weatherdata$Rel.Hum....))
summary(as.numeric(alldata$Rel.Hum....))
data.frame(
'Avg humidity' = mean(weatherdata$'Rel.Hum....', na.rm=TRUE),
'Avg crash humidity' = mean(alldata$'Rel.Hum....', na.rm = TRUE)
)
weatherdata$'Rel.Hum....' = as.numeric(weatherdata$'Rel.Hum....')
alldata$'Rel.Hum....' = as.numeric(alldata$'Rel.Hum....')
data.frame(
'Avg humidity' = mean(weatherdata$'Rel.Hum....', na.rm=TRUE),
'Avg crash humidity' = mean(alldata$'Rel.Hum....', na.rm = TRUE)
)
ggplot(data=weatherdata, aes(x=Rel.Hum....)) +
geom_density(colour='#1d2951', fill='#1d2951', alpha=0.9) +
geom_density(data=alldata, colour='#6495ed', fill='#6495ed', alpha=0.6) +
xlab('Relative Humidity') +
ylab('Density')
# annotate(
#   geom="text", x=c(11, 28), y=c(0.035, 0.025), label=c("Year-round", "Crash temps"),
#   color=c("#1d2951", "#6495ed")
# )
alldata$Rel.Hum.... = as.numeric(alldata$Rel.Hum....)
as.numeric(alldata$Rel.Hum....)
weatherdata$'Rel.Hum....' = as.numeric(weatherdata$'Rel.Hum....')
#alldata$'Rel.Hum....' = as.numeric(alldata$'Rel.Hum....')
data.frame(
'Avg humidity' = mean(weatherdata$'Rel.Hum....', na.rm=TRUE),
'Avg crash humidity' = mean(alldata$'Rel.Hum....', na.rm = TRUE)
)
ggplot(data=weatherdata, aes(x=Rel.Hum....)) +
geom_density(colour='#1d2951', fill='#1d2951', alpha=0.9) +
geom_density(data=alldata, colour='#6495ed', fill='#6495ed', alpha=0.6) +
xlab('Relative Humidity') +
ylab('Density')
# annotate(
#   geom="text", x=c(11, 28), y=c(0.035, 0.025), label=c("Year-round", "Crash temps"),
#   color=c("#1d2951", "#6495ed")
# )
print(class(alldata$Rel.Hum....))
names(alldata)
alldata %>%
ggplot(aes(x=monthnumber, y=Temp...C.)) +
geom_boxplot(aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_line(stat='summary', fun='median', color='#00008b', lwd=1.2) +
xlab('') +
ylab('Temperature') +
scale_x_discrete(labels=month.abb) +
scale_y_continuous(labels = scales::label_number(suffix = "°C")) +
theme(panel.grid.major.y = element_line(color = "#8ccde3",
size = 0.25,
linetype = 2))
#reordering factor
weeknames = c("SUNDAY", "MONDAY", "TUESDAY", "WEDNESDAY", "THURSDAY", "FRIDAY", "SATURDAY")
alldata$Day.Of.Week = factor(alldata$Day.Of.Week,
levels=weeknames)
alldata$Month.Of.Year = factor(alldata$Month.Of.Year,
levels=toupper(month.name))
#making monthnumber column
alldata[,"monthnumber"] = match(tolower(alldata$Month.Of.Year),
tolower(month.name))
data.frame(
'Avg temp.' = mean(weatherdata$Temp...C., na.rm=TRUE),
'Avg crash temp.' = mean(alldata$Temp...C., na.rm = TRUE)
)
ggplot(data=weatherdata, aes(x=Temp...C.)) +
geom_density(colour='#1d2951', fill='#1d2951', alpha=0.9) +
geom_density(data=alldata, colour='#6495ed', fill='#6495ed', alpha=0.6) +
xlab('Temperature') +
ylab('Density') +
annotate(
geom="text", x=c(11, 28), y=c(0.035, 0.025), label=c("Year-round", "Crash temps"),
color=c("#1d2951", "#6495ed")
)
alldata %>%
ggplot(aes(x=monthnumber, y=Temp...C.)) +
geom_boxplot(aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_line(stat='summary', fun='median', color='#00008b', lwd=1.2) +
xlab('') +
ylab('Temperature') +
scale_x_discrete(labels=month.abb) +
scale_y_continuous(labels = scales::label_number(suffix = "°C")) +
theme(panel.grid.major.y = element_line(color = "#8ccde3",
size = 0.25,
linetype = 2))
alldata %>%
ggplot(aes(x=monthnumber, y=Temp...C.)) +
geom_boxplot(aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(aes(x=Month.Of.Year), stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_line(stat='summary', fun='median', color='#00008b', lwd=1.2) +
xlab('') +
ylab('Temperature') +
scale_x_discrete(labels=month.abb) +
scale_y_continuous(labels = scales::label_number(suffix = "°C")) +
theme(panel.grid.major.y = element_line(color = "#8ccde3",
size = 0.25,
linetype = 2))
#alldata %>%
ggplot(aes(x=alldata$monthnumber)) +
geom_boxplot(aes(y=alldata$Temp...C.), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
geom_boxplot(aes(y=weatherdata$Temp...C.), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_line(stat='summary', fun='median', color='#00008b', lwd=1.2) +
xlab('') +
ylab('Temperature') +
scale_x_discrete(labels=month.abb) +
scale_y_continuous(labels = scales::label_number(suffix = "°C")) +
theme(panel.grid.major.y = element_line(color = "#8ccde3",
size = 0.25,
linetype = 2))
#alldata %>%
ggplot(data=alldata, aes(x=monthnumber)) +
geom_boxplot(aes(y=alldata$Temp...C.), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
geom_boxplot(data=weatherdata, aes(y=weatherdata$Temp...C.), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_line(stat='summary', fun='median', color='#00008b', lwd=1.2) +
xlab('') +
ylab('Temperature') +
scale_x_discrete(labels=month.abb) +
scale_y_continuous(labels = scales::label_number(suffix = "°C")) +
theme(panel.grid.major.y = element_line(color = "#8ccde3",
size = 0.25,
linetype = 2))
weatherdata[,"monthnumber"] = match(tolower(weatherdata$Month.Of.Year),
tolower(month.name))
#alldata %>%
ggplot(data=alldata, aes(x=monthnumber)) +
geom_boxplot(aes(y=Temp...C.), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
geom_boxplot(data=weatherdata, aes(y=Temp...C.), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_line(stat='summary', fun='median', color='#00008b', lwd=1.2) +
xlab('') +
ylab('Temperature') +
scale_x_discrete(labels=month.abb) +
scale_y_continuous(labels = scales::label_number(suffix = "°C")) +
theme(panel.grid.major.y = element_line(color = "#8ccde3",
size = 0.25,
linetype = 2))
#alldata %>%
ggplot(data = alldata, aes(x=monthnumber, y=Temp...C.)) +
geom_boxplot(aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
geom_boxplot(data=weatherdata, aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_line(stat='summary', fun='median', color='#00008b', lwd=1.2) +
xlab('') +
ylab('Temperature') +
scale_x_discrete(labels=month.abb) +
scale_y_continuous(labels = scales::label_number(suffix = "°C")) +
theme(panel.grid.major.y = element_line(color = "#8ccde3",
size = 0.25,
linetype = 2))
names(weatherdata)
head(weatherdata$Month)
#alldata %>%
ggplot(data = alldata, aes(x=monthnumber, y=Temp...C.)) +
geom_boxplot(aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
geom_boxplot(data=weatherdata, aes(x=Month), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_line(stat='summary', fun='median', color='#00008b', lwd=1.2) +
xlab('') +
ylab('Temperature') +
scale_x_discrete(labels=month.abb) +
scale_y_continuous(labels = scales::label_number(suffix = "°C")) +
theme(panel.grid.major.y = element_line(color = "#8ccde3",
size = 0.25,
linetype = 2))
table(weatherdata$monthnumber)
table(weatherdata$Month)
#alldata %>%
ggplot(data = alldata, aes(y=Temp...C.)) +
geom_boxplot(aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
geom_boxplot(data=weatherdata, aes(x=Month), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_line(stat='summary', fun='median', color='#00008b', lwd=1.2) +
xlab('') +
ylab('Temperature') +
scale_x_discrete(labels=month.abb) +
scale_y_continuous(labels = scales::label_number(suffix = "°C")) +
theme(panel.grid.major.y = element_line(color = "#8ccde3",
size = 0.25,
linetype = 2))
month.abb
month.name
for (i in 1:nrow(weatherdata)){
weatherdata[i,'Month.Of.Year'] = month.abb[weatherdata$Month[i]]
}
#alldata %>%
ggplot(data = alldata, aes(x=monthnumber, y=Temp...C.)) +
geom_boxplot(aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
geom_boxplot(data=weatherdata, aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_line(stat='summary', fun='median', color='#00008b', lwd=1.2) +
xlab('') +
ylab('Temperature') +
scale_x_discrete(labels=month.abb) +
scale_y_continuous(labels = scales::label_number(suffix = "°C")) +
theme(panel.grid.major.y = element_line(color = "#8ccde3",
size = 0.25,
linetype = 2))
table(weatherdata$Month.Of.Year)
table(alldata$Month.Of.Year)
for (i in 1:nrow(weatherdata)){
weatherdata[i,'Month.Of.Year'] = toupper(month.name[weatherdata$Month[i]])
}
toupper('hi')
#alldata %>%
ggplot(data = alldata, aes(x=monthnumber, y=Temp...C.)) +
geom_boxplot(aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
geom_boxplot(data=weatherdata, aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_line(stat='summary', fun='median', color='#00008b', lwd=1.2) +
xlab('') +
ylab('Temperature') +
scale_x_discrete(labels=month.abb) +
scale_y_continuous(labels = scales::label_number(suffix = "°C")) +
theme(panel.grid.major.y = element_line(color = "#8ccde3",
size = 0.25,
linetype = 2))
#alldata %>%
ggplot(data = alldata, aes(x=monthnumber, y=Temp...C.)) +
geom_boxplot(aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
geom_boxplot(data=weatherdata, aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_line(stat='summary', fun='median', color='#00008b', lwd=1.2) +
xlab('') +
ylab('Temperature') +
scale_x_discrete(labels=month.abb) +
scale_y_continuous(labels = scales::label_number(suffix = "°C")) +
theme(panel.grid.major.y = element_line(color = "#8ccde3",
size = 0.25,
linetype = 2))
#alldata %>%
ggplot(data = alldata, aes(x=monthnumber, y=Temp...C.)) +
geom_boxplot(aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_boxplot(data=weatherdata, aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(data=weatherdata, stat = 'summary', alpha = 0.2, fill = 'red', color = 'red',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_line(stat='summary', fun='median', color='#00008b', lwd=1.2) +
xlab('') +
ylab('Temperature') +
scale_x_discrete(labels=month.abb) +
scale_y_continuous(labels = scales::label_number(suffix = "°C")) +
theme(panel.grid.major.y = element_line(color = "#8ccde3",
size = 0.25,
linetype = 2))
#alldata %>%
ggplot(data = alldata, aes(x=monthnumber, y=Temp...C.)) +
geom_boxplot(aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_boxplot(data=weatherdata, aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(data=weatherdata, stat = 'summary', alpha = 0.2, fill = 'red', color = 'red',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_line(stat='summary', fun='median', color='#00008b', lwd=1.2) +
xlab('') +
ylab('Temperature') +
scale_x_discrete(labels=month.abb) +
scale_y_continuous(labels = scales::label_number(suffix = "°C")) +
theme(panel.grid.major.y = element_line(color = "#8ccde3",
size = 0.25,
linetype = 2))
#alldata %>%
ggplot(data = alldata, aes(x=monthnumber, y=Temp...C.)) +
geom_boxplot(aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(stat = 'summary', alpha = 0.2, fill = '#6495ed', color = '#00008b',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_boxplot(data=weatherdata, aes(x=Month.Of.Year), colour='#00008b', fill='#6495ed') +
geom_smooth(data=weatherdata, aes(x=Month.Of.Year), stat = 'summary', alpha = 0.2, fill = 'red', color = 'red',
fun.data = median_hilow, fun.args = list(conf.int = 1)) +
#geom_line(stat='summary', fun='median', color='#00008b', lwd=1.2) +
xlab('') +
ylab('Temperature') +
scale_x_discrete(labels=month.abb) +
scale_y_continuous(labels = scales::label_number(suffix = "°C")) +
theme(panel.grid.major.y = element_line(color = "#8ccde3",
size = 0.25,
linetype = 2))
names(weatherdata)
names(alldata)
log(10)
log10(10)
